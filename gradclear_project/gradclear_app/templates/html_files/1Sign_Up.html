<!--
BET-COET 2021-2023
Programmers:
        Trisha Eunis Elicot
        Dana Grace Fulla
        Allora Blesse Lagura
        Jazminn Aira Terencio
Adviser:
        Mr.Jay Victor Gumboc
-->

<!DOCTYPE html>
{% load static %}
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="{% static 'Media/tup_logo.png' %}">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/signature_pad/1.3.5/signature_pad.min.js" integrity="sha512-kw/nRM/BMR2XGArXnOoxKOO5VBHLdITAW00aG8qK4zBzcLVZ4nzg7/oYCaoiwc8U9zrnsO9UHqpyljJ8+iqYiQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <title> TUPC Registrar </title>
</head>              


<style>
    * {
        font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
    }

    a {
        color: black;
    }

    a:hover {
        color: #c51d3a;
    }

    body {
        background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.55), rgba(0, 0, 0, 0.55)), url("{% static 'Media/tup_bg.png' %}");
        background-repeat: no-repeat;
        background-position: center center;
        background-attachment: fixed;
        background-size: cover;
        margin: 0;
        min-height: 400px;
        clear: both;
    }

    footer {
        position: fixed;
        bottom: 0;
        width: 100%;
        text-align: center;
        color: white;
    }
    
    h1 {
        font-size: 60px;
        margin-top: 80px;
    }
    
    h6 {
        overflow: hidden;
        text-align: center;
        padding: 5px;
    }
    
    h6:before,
    h6:after {
        background-color: #000;
        content: "";
        display: inline-block;
        height: 1px;
        position: relative;
        vertical-align: middle;
        width: 50%;
    }
    
    h6:before {
        right: 0.5em;
        margin-left: -50%;
    }
    
    h6:after {
        left: 0.5em;
        margin-right: -50%;
    }

    i {
        color: black;
    }

    p {
        border-color: red;
        color: red;
        font-size: 13px;
    }

    p3 {
        border-color: red;
        color: red;
        font-size: 13px;
    }
    p4 {
        border-color: black;
        color: black;
        font-size: 13px;
    }

    .active {
    background-color: #747474;
    }
    
    .add-border-red{
        border: 2px solid #E2788A !important;
    }
    
    .btn-2 {
        color: #ffff;
        background-color: #424242;
        margin: 0px 0px 0px 10px;
        border-radius: 10px;
        border: #424242;
    }
    
    .btn-2:hover {
        color: #ffff;
        background-color: #616161;
        border: #616161;
    }

    .close_btn {
        border: 0 none !important;
        color: #fff7cc;
        background-color: #424242;
    }

    .icon {
        padding: 10px;
        min-width: 40px;
    }
    
    .modal-body {
        max-height: calc(100vh - 210px);
        overflow-y: auto;
        height: max-content;
    }
    
    .modal-footer {
        background-color: #c51d3a;
    }

    .modal-footer1 {
        background-color: #c51d3a;
    }
    
    .modal-1 {
        background-color: #424242;
        color: white;
    }
    
    .mt-4, .my-4 {
        margin-top: 0.7rem!important;
        margin-bottom: 0.7rem!important;
    }

    #form_01 {
        padding-top: 50px;
        text-align: center;
        padding: 50px 15px 0 15px;
    }

    #main {
        margin-left: 20px;
        margin-right: 20px;
        overflow-wrap: break-word;
    }

    /* SCREEN RESPONSIVENESS */
    @media screen and (max-height: 1000px) {
        #sign_up_body{
            max-width: fit-content;
            max-height: fit-content;
        }
    }
    @media screen and (max-width: 700px) {
        #sign_up_body{
            max-width: fit-content;
            max-height: fit-content;
        }
    }
</style>


<body>
    <!-- CHANGE BACKGROUND COLOR IF STAFF SIGNUP -->
    {% if user == "STAFF" %}
    <body style="background-image: linear-gradient(0deg, rgba(163, 163, 163, 0.55), rgba(168, 168, 168, 0.55)), url('/static/Media/bgdash.jpg')">
    {% endif %}

    <!-- MESSAGE BANNER -->
    {% include 'html_files/message.html'%}

    <!--MAIN-->
    <section>
        {% if user == "STAFF" %}
        <br>
        {% endif %}

        <!-- MODAL STYLE BODY -->
        <div  id="sign_up_body" class="container p-sm-3 mt-4 container-1" style="background-color: #fff; float: center;
         border-radius: 10px; width: 800px; height: max-content;" >
                    <div class="modal-header modal-1"  style="width: 100%;">
                        <h3 class="modal-title w-100 text-center">Sign Up</h3>

                         <!--MODAL CLOSE BUTTON REDIRECT TO COVER-->
                        {% if user != "STAFF" %}
                        <button type="button" class="close_btn" data-placement="right" title="Close" 
                        onclick="window.location.assign('/')">X</button>
                        
                        <!-- MODAL CLOSE BUTTON REDIRECT TO STAFF LIST -->
                        {% else %}
                        <button type="button" class="close_btn" data-placement="right" title="Close" 
                        onclick="window.location.assign('/registrar_dashboard_staff_list')">X</button>
                        {% endif %}
                    </div>
                    
                    <!-- FORM ORGANIZER DEPENDING ON USER TYPE -->
                    {% if user == "STUDENT" %}
                        <form id="stud_form_01" method="POST" action="student_signup" style="height:100%;" enctype="multipart/form-data">
                    {% elif user == "ALUMNUS" %}
                        <form id="stud_form_01" method="POST" action="alumnus_signup" style="height:100%;" enctype="multipart/form-data">
                    {% elif user == "OLD STUDENT" %}
                        <form id="stud_form_01" method="POST" action="oldstudent_signup" style="height:100%;" enctype="multipart/form-data">
                    {% elif user == "FACULTY" %}
                        <form id="stud_form_01" method="POST" action="faculty_signup" style="height:100%;" enctype="multipart/form-data">
                    {% else %}
                        <form id="stud_form_01" method="POST" action="staff_signup" style="height:100%;" enctype="multipart/form-data">
                    {% endif %}

                            {% csrf_token %}
                            <div class="modal-body ">
                                <input type="hidden" name="usertype_001" id="usertype" value="">
        
                                <!--NAME BOX-->
                                <div class="form-group">
                                    <label for="name">Name:</label><label id="Sname_aste01" style="color:red;">*</label>
                                    <div class="form-row">
                                        <div class="col">
                                            {{form.last_name}}
                                            <p id="sl_error_01"></p>
                                        </div>
                                        <div class="col">
                                            {{form.first_name}}
                                            <p id="sf_error_01"></p>
                                        </div>
                                        <div class="col">
                                            {{form.middle_name}}
                                        </div>
                                    </div>
                                </div>
                                
                               
                                <!--ADDRESS-->
                                {% if user == "FACULTY" %}
                                <div class="form-group" id="fac_address" hidden>
                                    <label for="address">Address:</label><label id="Sid_aste01" style="color:red;">*</label>
                                    {{form.address}}
                                    <p id="sid_error_01"></p>
                                </div>
                                {% elif user != "STAFF" %}
                                <div class="form-group">
                                    <label for="address">Address:</label><label id="Sid_aste01" style="color:red;">*</label>
                                    {{form.address}}
                                    <p id="sid_error_01"></p>
                                </div>
                                {% endif %}
                                
                                <!--GENDER-->
                                <div class="form-group" id="course_input">
                                    <label for="gender">Gender:</label><label id="Scourse_aste01" style="color:red;">*</label>
                                    {{form.gender}}
                                    <p id="sc_error_01"></p>
                                </div>

                                {% if user == "FACULTY" %}
                                <!-- BIRTHDAY -->
                                <div class="form-group" id="fac_birthday" hidden>
                                    <label for="birthday">Birthday:</label><label id="Scourse_aste01" style="color:red;">*</label>
                                    {{form.birthday}}
                                    <p id="sc_error_01"></p>
                                </div>
                                {% elif user == "STAFF" %}
                                <div class="form-group" id="staff_birthday" hidden>
                                    <label for="birthday">Birthday:</label><label id="Scourse_aste01" style="color:red;">*</label>
                                    {{form.birthday}}
                                    <p id="sc_error_01"></p>
                                </div>
                                {% else %}
                                <div class="form-group" id="course_input">
                                    <label for="birthday">Birthday:</label><label id="Scourse_aste01" style="color:red;">*</label>
                                    {{form.birthday}}
                                    <p id="sc_error_01"></p>
                                </div>
                                {% endif %}
                                

                                <!--ID NUMBER BOX-->
                                {% if user != "ALUMNUS" %}
                                <div class="form-group">
                                    <label for="idnum">ID Number:</label><label id="Sid_aste01" style="color:red;">*</label> (number only)
                                    {{form.id_number}}
                                    <p id="sid_error_01"></p>
                                </div>

                                {% elif user == "ALUMNUS" %}
                                <div class="form-group" hidden>
                                    <label for="idnum">ID Number: (number only)</label>
                                    {{form.id_number}}
                                    <p id="sid_error_01"></p>
                                </div>
                                {% endif %}

                                {% if user == "STUDENT" %}
                                    <!--COURSE DROPDOWN BOX-->
                                    <div class="form-group" id="course_input">
                                        <label for="course">Course:</label><label id="Scourse_aste01" style="color:red;">*</label>
                                        {{form.course}}
                                        <p id="sc_error_01"></p>
                                    </div>
                        
                                    <!--YEAR AND SECTION DROPDOWN BOX-->
                                    <div class="form-group" id="yns_input">
                                        <label for="year_and_section">Year Level:</label><label id="Syear_aste01" style="color:red;">*</label>
                                        {{form.year_and_section}}
                                        <p id="sys_error_01"></p>
                                    </div>

                                {% elif user == "ALUMNUS" %}
                                    <!--COURSE GRADUATED DROPDOWN BOX-->
                                    <div class="form-group" id="course_graduated_input">
                                        <label for="course_graduated">Course Graduated:</label><label id="Scourse_graduated_aste01" style="color:red;">*</label>
                                        {{form.course_graduated}}
                                        <p id="sc_error_01"></p>
                                    </div>
                                    
                                    <!--YEAR GRADUATED DROPDOWN BOX-->
                                    <div class="form-group" id="y_graduated_input" >
                                        <label for="year_graduated">Year Graduated:</label><label id="Syear_graduated_aste01" style="color:red;">*</label>
                                        {{form.year_graduated}}
                                        <p id="sys_error_01"></p>
                                    </div>
                                
                                {% elif user == "OLD STUDENT" %}
                                    <!--COURSE GRADUATED DROPDOWN BOX-->
                                    <div class="form-group" id="course_graduated_input">
                                        <label for="course_graduated">Course:</label><label id="Scourse_graduated_aste01" style="color:red;">*</label>
                                        {{form.course_graduated}}
                                        <p id="sc_error_01"></p>
                                    </div>

                                {% elif user == "FACULTY" %}
                                    {% if user != "STAFF" %}
                                    <!--DEPARTMENT DROPDOWN BOX-->
                                    <div class="form-group" id="department_input" >
                                        <label for="Sdepartment01">Department:</label><label id="Sdepartment01" style="color:red;">*</label>
                                        {{form.department}}
                                        <p id="sys_error_01"></p>
                                    </div>
                                    {% endif %}
                                {% endif %}

                                {% if user == "FACULTY" %}
                                <!--CONTACT NUMBER BOX-->
                                <div class="form-group" id="fac_cnum" hidden>
                                    <label for="cnum">Contact Number:</label><label id="Scnum_aste01" style="color:red;">*</label>
                                    {{form.contact_number}}
                                    <p3 id="scn_error_01"></p3>
                                </div>
                                {% elif user == "STAFF" %}
                                <div class="form-group" id="staff_cnum" hidden>
                                    <label for="cnum">Contact Number:</label><label id="Scnum_aste01" style="color:red;">*</label>
                                    {{form.contact_number}}
                                    <p3 id="scn_error_01"></p3>
                                </div>
                                {% else %}
                                <div class="form-group">
                                    <label for="cnum">Contact Number:</label><label id="Scnum_aste01" style="color:red;">*</label>
                                    {{form.contact_number}}
                                    <p3 id="scn_error_01"></p3>
                                </div>
                                {% endif %}
                
                                <!--EMAIL ADDRESS BOX-->
                                <div class="form-group">
                                    <label for="email">Email:</label><label id="Semail_aste01" style="color:red;">*</label>
                                    {{form.email}}
                                    <p id="se_error_01"></p>
                                </div>
                                
                                <!--PASSWORD BOX-->
                                <div class="form-group">
                                    <label for="password">Password:</label><label id="Spass_aste01" style="color:red;">*</label>
                                    <div class="input-group" id="show_hide_password_01">
                                        {{form.password1}}
                                    </div>
                                    <div>
                                        <input type="checkbox" id="showPassword1" style="margin-top: 10px; margin-left: 20px;"/>
                                        <label for="showPassword1" style="margin-top: 10px;">Show password</label>
                                    </div>
                                    <p id="sp_error_01"></p>
                                </div>
                                
                                <!--CONFIRM PASSWORD BOX-->
                                <div class="form-group">
                                    <label for="copassword">Confirm Password:</label><label id="Sconpass_aste01" style="color:red;">*</label>
                                    <div class="input-group" id="show_hide_password1_01">
                                        {{form.password2}}
                                    </div>
                                    <div>
                                        <input type="checkbox" id="showPassword2" style="margin-top: 10px; margin-left: 20px;"/>
                                        <label for="showPassword2" style="margin-top: 10px;">Show password</label>
                                    </div>
                                    <p id="scp_error_01"></p>
                                </div>
                
                                <!--PASSWORD MATCHER LABEL-->
                                <p id="spm_error_01"></p>
                                
                                <!--PROFILE PICTURE BOX-->
                                {% if user != "STAFF" %}
                                <div class="form-group">
                                    <label for="prof_pic">Profile Picture:</label>
                                    {{form.profile_picture}}
                                    <p><b>Note:</b><p4> Attach a presentable picture of yours with a clean white background in <b>2x2 picture size </b>.
                                        <br>Filename format: NAME.jpg/png</p4></p>
                                    <p id="se_error_01"></p>
                                </div> 
                                {% endif %}
                            </div>
                           
                            <!--MODAL FOOTER-->
                            <div class="modal-footer">
            
                                <!--SIGNUP BUTTON FOR ALUMNUS-->
                                {% if user == "ALUMNUS"%}
                                <a><button type="button" class="btn btn-2 btn-lg" name="Ssubmit_btn_001" 
                                    id="Ssubmit_btn_01" disabled onclick="get_id()" >Sign Up</button></a>
                                
                                <!-- SIGNUP BUTTON FOR EVERYONE ELSE -->
                                {% else %}
                                <a><button type="button" disabled class="btn btn-2 btn-lg" name="Ssubmit_btn_001" 
                                    id="Ssubmit_btn_01" >Sign Up</button></a>
            
                                {% endif %}
                            </div>
                        </form></div>
                        <!--CONFIRMATION MODAL-->
                        <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" id="mi-modal">
                            <div class="modal-dialog modal-md modal-dialog-centered">
                                <div class="modal-content">
                                    <div class="modal-header" style="background-color: #424242;">
                                        <h4 class="modal-title" id="myModalLabel" style="color: white; font-size: 20px;">Confirmation</h4>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color:white;"><span aria-hidden="true">&times;</span></button>
                                    </div>
                                    <div class="modal-body" style=" text-align: center; padding: 20px; font-size: 18px;">
                                        Once you submit, you will no longer be<br> able to change your information for this attempt. <br><b>Are you sure?</b>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn" id="modal-btn-yes" style="background-color: #424242; color: white; padding-left: 1vw; padding-right: 1vw;">Yes</button>
                                        <button type="button" class="btn" id="modal-btn-no" style="background-color: #e7dfe4; color: #c31d35; padding-left: 1vw; padding-right: 1vw;">No</button>
                                    </div>
                                </div>
                            </div>
                        </div>
    </section>

    <!-- FORM FILTERS FOR STUDENT USER TYPE -->
    {% if user == "STUDENT" %}
    <script>
        
        document.getElementById("id_id_number").placeholder = "00-0000";
        document.getElementById("id_id_number").maxLength=7;

        $("input").on('keyup change', function(e) {
            var id_val = document.getElementById('id_id_number').value;
            var bday_val = document.getElementById('id_birthday').value;
            var cp_val = document.getElementById('id_contact_number').value;

            var cp_correct = cp_val.substr(0, 2);

            let fn_box = document.getElementById("id_first_name").value;
            let ln_box = document.getElementById("id_last_name").value;
            let add_box = document.getElementById("id_address").value;
            let gender_box = document.getElementById("id_gender").value;
            let bday_box = document.getElementById("id_birthday").value;
            let id_num_box = document.getElementById("id_id_number").value;
            let course_box = document.getElementById("id_course").value;
            let year_box = document.getElementById("id_year_and_section").value;
            let cp_box = document.getElementById("id_contact_number").value;
            let email_box = document.getElementById("id_email").value;
            let pass1_box = document.getElementById("id_password1").value;
            let pass2_box = document.getElementById("id_password2").value;
            let pic_box = document.getElementById("id_profile_picture").value;
            if (fn_box != 0 && ln_box != 0 && add_box != 0 && gender_box != 0 && bday_box != 0 && id_num_box != 0 
                && course_box != 0 && year_box != 0 && cp_box != 0 && email_box != 0 && pass1_box != 0 && pass2_box == pass1_box && pic_box != 0
                && id_val.length == 7 && bday_val.length == 8 && cp_val.length == 13  && cp_correct == '09' ){    
                document.getElementById("Ssubmit_btn_01").removeAttribute("disabled"); 
            } else {
                $("#Ssubmit_btn_01").attr("disabled", "disabled");
            }
         });
         
        //Confirm Submit
        var modalConfirm = function(callback){
  
            $("#Ssubmit_btn_01").on("click", function(){
              $("#mi-modal").modal('show');
            });
          
            $("#modal-btn-yes").on("click", function(){
              callback(true);
              $("#mi-modal").modal('hide');
            });
            
            $("#modal-btn-no").on("click", function(){
              callback(false);
              $("#mi-modal").modal('hide');
            });
        };
          
        modalConfirm(function(confirm){
            var signup_form = document.getElementById('stud_form_01')
            if(confirm){
                signup_form.submit()
            }else{
                return false;
            }
        });
    </script>

    <!-- FORM FILTERS FOR OLD STUDENT USER TYPE -->
    {% elif user == "OLD STUDENT" %}
    <script>
        document.getElementById("id_id_number").placeholder = "00-0000";
        document.getElementById("id_id_number").maxLength=7;

        $("input").on('keyup change', function(e) {
            var id_val = document.getElementById('id_id_number').value;
            var bday_val = document.getElementById('id_birthday').value;
            var cp_val = document.getElementById('id_contact_number').value;

            var cp_correct = cp_val.substr(0, 2);

            let fn_box = document.getElementById("id_first_name").value;
            let ln_box = document.getElementById("id_last_name").value;
            let add_box = document.getElementById("id_address").value;
            let gender_box = document.getElementById("id_gender").value;
            let bday_box = document.getElementById("id_birthday").value;
            let id_num_box = document.getElementById("id_id_number").value;
            let course_grad = document.getElementById("id_course_graduated").value;
            let cp_box = document.getElementById("id_contact_number").value;
            let email_box = document.getElementById("id_email").value;
            let pass1_box = document.getElementById("id_password1").value;
            let pass2_box = document.getElementById("id_password2").value;
            let pic_box = document.getElementById("id_profile_picture").value;
            if (fn_box != 0 && ln_box != 0 && add_box != 0 && gender_box != 0 && bday_box != 0 && id_num_box != 0 
                && cp_box != 0 && course_grad != 0 && email_box != 0 && pass1_box != 0 && pass2_box == pass1_box && pic_box != 0
                && id_val.length == 7 && bday_val.length == 8 && cp_val.length == 13 && cp_correct == '09'){    
                document.getElementById("Ssubmit_btn_01").removeAttribute("disabled"); 
            } else {
                $("#Ssubmit_btn_01").attr("disabled", "disabled");
            }
         });
         
         //Confirm Submit
        var modalConfirm = function(callback){
  
            $("#Ssubmit_btn_01").on("click", function(){
              $("#mi-modal").modal('show');
            });
          
            $("#modal-btn-yes").on("click", function(){
              callback(true);
              $("#mi-modal").modal('hide');
            });
            
            $("#modal-btn-no").on("click", function(){
              callback(false);
              $("#mi-modal").modal('hide');
            });
        };
          
        modalConfirm(function(confirm){
            var signup_form = document.getElementById('stud_form_01')
            if(confirm){
                signup_form.submit()
            }else{
                return false;
            }
        });
    </script>

    <!-- FORM FILTERS FOR ALUMNUS USER TYPE -->
    {% elif user == "ALUMNUS" %}
    <script>
        document.getElementById("id_id_number").placeholder = "00-0000-00-000000";
        $("input").on('keyup change', function(e) {
            var bday_val = document.getElementById('id_birthday').value;
            var cp_val = document.getElementById('id_contact_number').value;

            var cp_correct = cp_val.substr(0, 2);

            let fn_box = document.getElementById("id_first_name").value;
            let ln_box = document.getElementById("id_last_name").value;
            let add_box = document.getElementById("id_address").value;
            let gender_box = document.getElementById("id_gender").value;
            let bday_box = document.getElementById("id_birthday").value;
            let course_grad = document.getElementById("id_course_graduated").value;
            let year_grad = document.getElementById("id_year_graduated").value;
            let cp_box = document.getElementById("id_contact_number").value;
            let email_box = document.getElementById("id_email").value;
            let pass1_box = document.getElementById("id_password1").value;
            let pass2_box = document.getElementById("id_password2").value;
            let pic_box = document.getElementById("id_profile_picture").value;
            if (fn_box != 0 && ln_box != 0 && add_box != 0 && gender_box != 0 && bday_box != 0
                && cp_box != 0 && course_grad != 0  && year_grad != 0 && email_box != 0 && pass1_box != 0 && pass2_box == pass1_box && pic_box != 0
                && bday_val.length == 8 && cp_val.length == 13 && cp_correct == '09'  ){    
                
                    document.getElementById("Ssubmit_btn_01").removeAttribute("disabled"); 
            } else {
                $("#Ssubmit_btn_01").attr("disabled", "disabled");
            }
         });
         
        //Confirm Submit
        var modalConfirm = function(callback){
  
            $("#Ssubmit_btn_01").on("click", function(){
              $("#mi-modal").modal('show');
            });
          
            $("#modal-btn-yes").on("click", function(){
              callback(true);
              $("#mi-modal").modal('hide');
            });
            
            $("#modal-btn-no").on("click", function(){
              callback(false);
              $("#mi-modal").modal('hide');
            });
        };
          
        modalConfirm(function(confirm){
            var signup_form = document.getElementById('stud_form_01')
            if(confirm){
                signup_form.submit()
            }else{
                return false;
            }
        });
    </script>

    <!-- FORM FILTERS FOR STAFF USER TYPE -->
    {% elif user == "STAFF" %}
    <script>
        document.getElementById("id_id_number").placeholder = "00-0000";
        document.getElementById("id_id_number").maxLength=7;


        $("input").on('keyup change', function(e) {
            var id_val = document.getElementById('id_id_number').value;
            var bday_val = document.getElementById('id_birthday').value;
            var cp_val = document.getElementById('id_contact_number').value;

            var cp_correct = cp_val.substr(0, 2);

            let fn_box = document.getElementById("id_first_name").value;
            let ln_box = document.getElementById("id_last_name").value;
            let gender_box = document.getElementById("id_gender").value;
            let bday_box = document.getElementById("id_birthday").value = "00/00/00";
            let id_num_box = document.getElementById("id_id_number").value;
            let cp_box = document.getElementById("id_contact_number").value = "0912-345-6789";
            let email_box = document.getElementById("id_email").value;
            let pass1_box = document.getElementById("id_password1").value;
            let pass2_box = document.getElementById("id_password2").value;
            if (fn_box != 0 && ln_box != 0 && gender_box != 0 
                && cp_box != 0 && email_box != 0 && pass1_box != 0 && pass2_box == pass1_box 
                 && pass2_box != 0 && id_val.length > 5){    
                    document.getElementById("Ssubmit_btn_01").removeAttribute("disabled"); 
            } else {
                $("#Ssubmit_btn_01").attr("disabled", "disabled");
            }
         });
         
        //Confirm Submit
        var modalConfirm = function(callback){
  
            $("#Ssubmit_btn_01").on("click", function(){
              $("#mi-modal").modal('show');
            });
          
            $("#modal-btn-yes").on("click", function(){
              callback(true);
              $("#mi-modal").modal('hide');
            });
            
            $("#modal-btn-no").on("click", function(){
              callback(false);
              $("#mi-modal").modal('hide');
            });
        };
          
        modalConfirm(function(confirm){
            var signup_form = document.getElementById('stud_form_01')
            if(confirm){
                signup_form.submit()
            }else{
                return false;
            }
        });
    </script>

    <!-- FORM FILTERS FOR FACULTY USER TYPE -->
    {% else %}
    <script>
        document.getElementById("id_id_number").placeholder = "00-000";
        document.getElementById("id_id_number").maxLength=6;
        
        $("input").on('keyup change', function(e) {
            var id_val = document.getElementById('id_id_number').value;
            var bday_val = document.getElementById('id_birthday').value;
            var cp_val = document.getElementById('id_contact_number').value;

            var cp_correct = cp_val.substr(0, 2);

            let fn_box = document.getElementById("id_first_name").value;
            let ln_box = document.getElementById("id_last_name").value;
            let add_box = document.getElementById("id_address").value  = "Carlos Q. Trinidad Avenue.Salawag Dasmarinas City";
            let gender_box = document.getElementById("id_gender").value;
            let bday_box = document.getElementById("id_birthday").value = "00/00/00";
            let id_number = document.getElementById("id_id_number").value;
            let dep_box = document.getElementById("id_department").value;
            let cp_box = document.getElementById("id_contact_number").value = "0912-345-6789";
            let email_box = document.getElementById("id_email").value;
            let pass1_box = document.getElementById("id_password1").value;
            let pass2_box = document.getElementById("id_password2").value;
            let pic_box = document.getElementById("id_profile_picture").value;
            if (fn_box !== 0 && ln_box !== 0 && add_box !== 0 && gender_box !== 0 
                && cp_box !== 0 && id_number != 0  && dep_box != 0 && email_box != 0 && pass1_box != 0 && pass2_box == pass1_box && pic_box != 0
                && id_val.length == 6 ){    
                document.getElementById("Ssubmit_btn_01").removeAttribute("disabled"); 
            }  else {
                $("#Ssubmit_btn_01").attr("disabled", "disabled");
            }
         });
        
        //Confirm Submit
        var modalConfirm = function(callback){
  
            $("#Ssubmit_btn_01").on("click", function(){
              $("#mi-modal").modal('show');
            });
          
            $("#modal-btn-yes").on("click", function(){
              callback(true);
              $("#mi-modal").modal('hide');
            });
            
            $("#modal-btn-no").on("click", function(){
              callback(false);
              $("#mi-modal").modal('hide');
            });
        };
          
        modalConfirm(function(confirm){
            var signup_form = document.getElementById('stud_form_01')
            if(confirm){
                signup_form.submit()
            }else{
                return false;
            }
        });
    </script>
    {% endif %}
</body>  
</html>

<script>
    // CREATING TEMPORARY ID FOR ALUMNI BEFORE GENERATING ONE IN VIEWS.PY  
    function get_id() {
    document.getElementById("id_id_number").value = "99-9999-99-999999";
    }

    // EMPTY COMMENT
    $('#Studentsignup_modal_01').on('hidden.bs.modal', function (e) {
    $(this)
    .find("input,textarea,select")
       .val('')
       .end()
    .find("input[type=checkbox], input[type=radio]")
       .prop("checked", "")
       .end();
    });


    //AUTO CAPITALIZATION
    $("#id_last_name, #id_middle_name, #id_first_name,#id_username, #id_address").on('input', function(evt) {
        var input = $(this);
        var start = input[0].selectionStart;
        $(this).val(function (_, val) {
          return val.toUpperCase();
        });
        input[0].selectionStart = input[0].selectionEnd = start;
      });

    //RESTRICT MULTIPLE SPACES
    $('input').bind('DOMAttrModified textInput input keyup paste',function(){
        var sspace = $(this).val().replace(/ +/g, ' ');
           if ($(this).val() != sspace)
               $(this).val(sspace);
         });

    //RESTRICT LEADING WHITESPACES
    $("input").on("keypress", function(e) {
        if (e.which === 32 && !this.value.length){
        e.preventDefault();
        }
    });

    $(function () {
        $('#id_id_number').keydown(function (e) {
            var key = e.charCode || e.keyCode || 0;
            $text = $(this); 
            if (key !== 8 && key !== 9) {
                if ($text.val().length === 2) {
                    $text.val($text.val() + '-');
                }
                
            }
            return (key == 8 || key == 9 || key == 46 || (key >= 48 && key <= 57) || (key >= 96 && key <= 105));
            
        })
    });

    $(function () {
        $('#id_contact_number').keydown(function (e) {
            var key = e.charCode || e.keyCode || 0;
            $text = $(this); 
            if (key !== 8 && key !== 9) {
                if ($text.val().length === 4) {
                    $text.val($text.val() + '-');
                }
                if ($text.val().length === 8) {
                    $text.val($text.val() + '-');
                }
            }
            return (key == 8 || key == 9 || key == 46 || (key >= 48 && key <= 57) || (key >= 96 && key <= 105));
        
        })
    });

    $(function () {
        $('#id_birthday').keydown(function (e) {
            var key = e.charCode || e.keyCode || 0;
            $text = $(this); 
            if (key !== 8 && key !== 9) {
                if ($text.val().length === 2) {
                    $text.val($text.val() + '/');
                }
                if ($text.val().length === 5) {
                    $text.val($text.val() + '/');
                }
                
            }
            return (key == 8 || key == 9 || key == 46 || (key >= 48 && key <= 57) || (key >= 96 && key <= 105));
            
        })
    });
     
    // SHOW AND HIDE PASSWORD
    document.getElementById('showPassword1').onclick = function() {
        if ( this.checked ) {
        document.getElementById('id_password1').type = "text";
        } else {
        document.getElementById('id_password1').type = "password";
        }
    };
        document.getElementById('showPassword2').onclick = function() {
        if ( this.checked ) {
        document.getElementById('id_password2').type = "text";
        } else {
        document.getElementById('id_password2').type = "password";
        }
    };

    // CONTACT NUMBER FORMATTER (PHILIPPINE FORMAT- (09XX-XXX-XXXX))
    $(document).ready(function(){
        $('#id_contact_number').keyup(function(){
            var mob = /^[1-9]{1}[0-9]{9}$/;
                
                var currentValue = $('#id_contact_number').val();
                var result = currentValue.substr(0, 2);

            if(result == ''){
                $('p3').html("Please Enter Contact Number").addClass("error").show();
            }else {
                if(result == '09'){
                    $(this).removeClass('add-border-red');
                    $('p3').html("Invalid mobile number").addClass("error").hide();

                    if($(this).val().length != 13){
                        $('p3').html("Incomplete mobile number").addClass("error").show();
                    }else {
                        $('p3').html("number").addClass("error").hide();
                    }
                }else {
                    $(this).addClass('add-border-red');
                    $('p3').html("Invalid mobile number").addClass("error").show();
                }
                event.preventDefault();
            }
        });
    });

    // ALLOW TEXT ONLY 
    $('#id_first_name, #id_last_name, #id_middle_name').keypress(function (e) {
        var regex = new RegExp("^[a-z A-Z]+$");
        var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
        if (regex.test(str)) {
            return true;
        }
        e.preventDefault();
        return false;
    });
</script>


